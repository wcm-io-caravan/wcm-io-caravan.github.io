<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>UrlFingerprinting (Rhyme - Spring Integration 1.0.1-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="UrlFingerprinting (Rhyme - Spring Integration 1.0.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UrlFingerprinting.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.wcm.caravan.rhyme.spring.api</a></div>
<h2 title="Interface UrlFingerprinting" class="title">Interface UrlFingerprinting</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">UrlFingerprinting</span></pre>
<div class="block">Adds support for URL fingerprinting to your server-side resource implementations, by ensuring
 that all links in your service are using URLs that are guaranteed to change whenever the
 data, code or configuration of your service is updated. Responses for any URL that contains such a fingerprint
 can be considered immutable and cached indefinitely by the clients. If data (or code) changes, the clients will still
 pick up the most version of the data because the API entry point will point to different URLs with a new fingerprint.
 <p>
 To enable URL fingerprinting in your service, you need to do the following:
 </p>
 <ol>
 <li>Define a central location in your code where you call <a href="SpringRhyme.html#enableUrlFingerprinting()"><code>SpringRhyme.enableUrlFingerprinting()</code></a> to create
 and configure this instance. In a Spring application, a <code>RequestScope</code> component works well as long as you
 stick to
 single-threaded request processing</li>
 <li>Call <a href="#withTimestampParameter(java.lang.String,java.util.function.Supplier)"><code>withTimestampParameter(String, Supplier)</code></a> to define the name of a
 query parameter to be used for URL fingerprinting, and the source for a last modification date</li>
 <li>Call <a href="#withConditionalMaxAge(java.time.Duration,java.time.Duration)"><code>withConditionalMaxAge(Duration, Duration)</code></a> to enable modification
 of your response's max-age cache-control directive depending on the presence of the URL fingerprint</li>
 <li>Ensure that all the links between your server-side resoures are then created using
 <a href="#createLinkWith(org.springframework.hateoas.server.mvc.WebMvcLinkBuilder)"><code>createLinkWith(WebMvcLinkBuilder)</code></a> of the same configured <a href="UrlFingerprinting.html" title="interface in io.wcm.caravan.rhyme.spring.api"><code>UrlFingerprinting</code></a> instance</li>
 </ol></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="RhymeLinkBuilder.html" title="interface in io.wcm.caravan.rhyme.spring.api">RhymeLinkBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createLinkWith(org.springframework.hateoas.server.mvc.WebMvcLinkBuilder)">createLinkWith</a></span>&#8203;(org.springframework.hateoas.server.mvc.WebMvcLinkBuilder&nbsp;linkBuilder)</code></th>
<td class="colLast">
<div class="block">Creates a <a href="RhymeLinkBuilder.html" title="interface in io.wcm.caravan.rhyme.spring.api"><code>RhymeLinkBuilder</code></a> that generates the URL to a controller method and adds the
 additional URL fingerprinting parameters</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUsedInIncomingRequest()">isUsedInIncomingRequest</a></span>()</code></th>
<td class="colLast">
<div class="block">Determines if the current incoming request is using URL fingerprinting.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="UrlFingerprinting.html" title="interface in io.wcm.caravan.rhyme.spring.api">UrlFingerprinting</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withConditionalMaxAge(java.time.Duration,java.time.Duration)">withConditionalMaxAge</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;mutableMaxAge,
                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;immutableMaxAge)</code></th>
<td class="colLast">
<div class="block">Allows the URL fingerprinting logic to modify the max-age cache-control directive for the response that is
 currently rendered, depending on whether the incoming request is using a fingerprinted URL.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="UrlFingerprinting.html" title="interface in io.wcm.caravan.rhyme.spring.api">UrlFingerprinting</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withQueryParameter(java.lang.String,java.lang.Object)">withQueryParameter</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Adds another additional query parameter to all links being built with this instance
 (unless a query parameter with the same name already exists)</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="UrlFingerprinting.html" title="interface in io.wcm.caravan.rhyme.spring.api">UrlFingerprinting</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withTimestampParameter(java.lang.String,java.util.function.Supplier)">withTimestampParameter</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&gt;&nbsp;source)</code></th>
<td class="colLast">
<div class="block">Add an URL fingerprinting parameter based on a last modification date</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="withTimestampParameter(java.lang.String,java.util.function.Supplier)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withTimestampParameter</h4>
<pre class="methodSignature"><a href="UrlFingerprinting.html" title="interface in io.wcm.caravan.rhyme.spring.api">UrlFingerprinting</a>&nbsp;withTimestampParameter&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                                         <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function" class="externalLink">Supplier</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Instant.html?is-external=true" title="class or interface in java.time" class="externalLink">Instant</a>&gt;&nbsp;source)</pre>
<div class="block">Add an URL fingerprinting parameter based on a last modification date</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - of the query parameter to be added</dd>
<dd><code>source</code> - a function to retrieve the value of this parameter if it is not already present in the incoming
          request</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this instance</dd>
</dl>
</li>
</ul>
<a id="withQueryParameter(java.lang.String,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withQueryParameter</h4>
<pre class="methodSignature"><a href="UrlFingerprinting.html" title="interface in io.wcm.caravan.rhyme.spring.api">UrlFingerprinting</a>&nbsp;withQueryParameter&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;name,
                                     <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>&nbsp;value)</pre>
<div class="block">Adds another additional query parameter to all links being built with this instance
 (unless a query parameter with the same name already exists)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - of the query parameter to be added</dd>
<dd><code>value</code> - of the parameter to be added</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this</dd>
</dl>
</li>
</ul>
<a id="withConditionalMaxAge(java.time.Duration,java.time.Duration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withConditionalMaxAge</h4>
<pre class="methodSignature"><a href="UrlFingerprinting.html" title="interface in io.wcm.caravan.rhyme.spring.api">UrlFingerprinting</a>&nbsp;withConditionalMaxAge&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;mutableMaxAge,
                                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html?is-external=true" title="class or interface in java.time" class="externalLink">Duration</a>&nbsp;immutableMaxAge)</pre>
<div class="block">Allows the URL fingerprinting logic to modify the max-age cache-control directive for the response that is
 currently rendered, depending on whether the incoming request is using a fingerprinted URL.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mutableMaxAge</code> - to use for the entry point (or any other resources without a fingerprint in the URL).</dd>
<dd><code>immutableMaxAge</code> - to use for all resources that do contain a fingerprint in their URL.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this instance</dd>
</dl>
</li>
</ul>
<a id="isUsedInIncomingRequest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUsedInIncomingRequest</h4>
<pre class="methodSignature">boolean&nbsp;isUsedInIncomingRequest()</pre>
<div class="block">Determines if the current incoming request is using URL fingerprinting.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the query contains values for all timestamp parameters defined with
         <a href="#withTimestampParameter(java.lang.String,java.util.function.Supplier)"><code>withTimestampParameter(String, Supplier)</code></a></dd>
</dl>
</li>
</ul>
<a id="createLinkWith(org.springframework.hateoas.server.mvc.WebMvcLinkBuilder)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createLinkWith</h4>
<pre class="methodSignature"><a href="RhymeLinkBuilder.html" title="interface in io.wcm.caravan.rhyme.spring.api">RhymeLinkBuilder</a>&nbsp;createLinkWith&#8203;(org.springframework.hateoas.server.mvc.WebMvcLinkBuilder&nbsp;linkBuilder)</pre>
<div class="block">Creates a <a href="RhymeLinkBuilder.html" title="interface in io.wcm.caravan.rhyme.spring.api"><code>RhymeLinkBuilder</code></a> that generates the URL to a controller method and adds the
 additional URL fingerprinting parameters</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>linkBuilder</code> - created with <code>WebMvcLinkBuilder.linkTo(Class)</code> and
          <code>WebMvcLinkBuilder.methodOn(Class, Object...)</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="RhymeLinkBuilder.html" title="interface in io.wcm.caravan.rhyme.spring.api"><code>RhymeLinkBuilder</code></a> to decorate the link with name and title attributes, and
         then finally build it</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/UrlFingerprinting.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2023 <a href="https://caravan.wcm.io">wcm.io Caravan</a>. All rights reserved.</small></p>
</footer>
</body>
</html>