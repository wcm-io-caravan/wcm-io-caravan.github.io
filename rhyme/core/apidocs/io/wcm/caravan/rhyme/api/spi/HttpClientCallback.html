<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>HttpClientCallback (Rhyme - Core Framework 1.1.0-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HttpClientCallback (Rhyme - Core Framework 1.1.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HttpClientCallback.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HalResponseCache.html" title="interface in io.wcm.caravan.rhyme.api.spi"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientSupport.html" title="interface in io.wcm.caravan.rhyme.api.spi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html" target="_top">Frames</a></li>
<li><a href="HttpClientCallback.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.wcm.caravan.rhyme.api.spi</div>
<h2 title="Interface HttpClientCallback" class="title">Interface HttpClientCallback</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@ProviderType
public interface <span class="typeNameLabel">HttpClientCallback</span></pre>
<div class="block">Callback interface used by <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientSupport.html#executeGetRequest-java.net.URI-io.wcm.caravan.rhyme.api.spi.HttpClientCallback-"><code>HttpClientSupport.executeGetRequest(URI, HttpClientCallback)</code></a>
 to process a response that has been retrieved, and handle any errors according to the contract
 of the <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HalResourceLoader.html#getHalResource-java.lang.String-"><code>HalResourceLoader.getHalResource(String)</code></a> method</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientSupport.html" title="interface in io.wcm.caravan.rhyme.api.spi"><code>HttpClientSupport</code></a>, 
<a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HalResourceLoader.html" title="interface in io.wcm.caravan.rhyme.api.spi"><code>HalResourceLoader</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onBodyAvailable-java.io.InputStream-">onBodyAvailable</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;responseBodyStream)</code>
<div class="block">This *must* be called after <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onHeadersAvailable-int-java.util.Map-"><code>onHeadersAvailable(int, Map)</code></a> and as soon as the response body is ready to be
 read.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onExceptionCaught-java.lang.Throwable-">onExceptionCaught</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;ex)</code>
<div class="block">This *must* be called when any exception was caught that prevented you from calling
 <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onHeadersAvailable-int-java.util.Map-"><code>onHeadersAvailable(int, Map)</code></a> and <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onBodyAvailable-java.io.InputStream-"><code>onBodyAvailable(InputStream)</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onHeadersAvailable-int-java.util.Map-">onHeadersAvailable</a></span>(int&nbsp;statusCode,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,? extends <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;headers)</code>
<div class="block">This *must* be called as soon as the HTTP response headers are available.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onUrlModified-java.net.URI-">onUrlModified</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</a>&nbsp;uri)</code>
<div class="block">This should be called if your client had to modify the URL (e.g.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onUrlModified-java.net.URI-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onUrlModified</h4>
<pre>void&nbsp;onUrlModified(<a href="https://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net">URI</a>&nbsp;uri)</pre>
<div class="block">This should be called if your client had to modify the URL (e.g. add or replace the host
 name) in order to execute the request. This will ensure that the URL that was actually used will appear
 in any <a href="../../../../../../io/wcm/caravan/rhyme/api/exceptions/HalApiClientException.html" title="class in io.wcm.caravan.rhyme.api.exceptions"><code>HalApiClientException</code></a>s that are thrown by <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HalResourceLoader.html#getHalResource-java.lang.String-"><code>HalResourceLoader.getHalResource(String)</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>uri</code> - from which the resource was actually requested</dd>
</dl>
</li>
</ul>
<a name="onHeadersAvailable-int-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onHeadersAvailable</h4>
<pre>void&nbsp;onHeadersAvailable(int&nbsp;statusCode,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,? extends <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;headers)</pre>
<div class="block">This *must* be called as soon as the HTTP response headers are available. It will ensure that
 <a href="../../../../../../io/wcm/caravan/rhyme/api/common/HalResponse.html#getStatus--"><code>HalResponse.getStatus()</code></a>, <a href="../../../../../../io/wcm/caravan/rhyme/api/common/HalResponse.html#getContentType--"><code>HalResponse.getContentType()</code></a> and <a href="../../../../../../io/wcm/caravan/rhyme/api/common/HalResponse.html#getMaxAge--"><code>HalResponse.getMaxAge()</code></a> will
 return the values from your response</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>statusCode</code> - HTTP status code from the response</dd>
<dd><code>headers</code> - a map with name and values of all HTTP headers in the response</dd>
</dl>
</li>
</ul>
<a name="onBodyAvailable-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onBodyAvailable</h4>
<pre>void&nbsp;onBodyAvailable(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;responseBodyStream)</pre>
<div class="block">This *must* be called after <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onHeadersAvailable-int-java.util.Map-"><code>onHeadersAvailable(int, Map)</code></a> and as soon as the response body is ready to be
 read. It will ensure that <a href="../../../../../../io/wcm/caravan/rhyme/api/common/HalResponse.html#getBody--"><code>HalResponse.getBody()</code></a> will return the parsed HAL+JSON response.
 <p>
 If you don't call this method, then you *must* call <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onExceptionCaught-java.lang.Throwable-"><code>onExceptionCaught(Throwable)</code></a> instead, so that
 the framework knows that the request has actually been completed. You *should* call this method even if the
 response
 contained an error status code, so that the framework can try to parse the response body as JSON to retrieve
 <a href="https://github.com/blongden/vnd.error">vnd.error</a>
 information. Any errors trying to read from the stream or parse the JSON will be caught and make
 <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HalResourceLoader.html#getHalResource-java.lang.String-"><code>HalResourceLoader.getHalResource(String)</code></a> fail with a <a href="../../../../../../io/wcm/caravan/rhyme/api/exceptions/HalApiClientException.html" title="class in io.wcm.caravan.rhyme.api.exceptions"><code>HalApiClientException</code></a>
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>responseBodyStream</code> - the input stream that will be closed after the response body has been read</dd>
</dl>
</li>
</ul>
<a name="onExceptionCaught-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onExceptionCaught</h4>
<pre>void&nbsp;onExceptionCaught(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;ex)</pre>
<div class="block">This *must* be called when any exception was caught that prevented you from calling
 <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onHeadersAvailable-int-java.util.Map-"><code>onHeadersAvailable(int, Map)</code></a> and <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html#onBodyAvailable-java.io.InputStream-"><code>onBodyAvailable(InputStream)</code></a>. This will ensure that
 <a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HalResourceLoader.html#getHalResource-java.lang.String-"><code>HalResourceLoader.getHalResource(String)</code></a> fails with an <a href="../../../../../../io/wcm/caravan/rhyme/api/exceptions/HalApiClientException.html" title="class in io.wcm.caravan.rhyme.api.exceptions"><code>HalApiClientException</code></a> with all information
 that was already collected prior to the exception (e.g. status code).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ex</code> - the exception that was caught by your code</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HttpClientCallback.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HalResponseCache.html" title="interface in io.wcm.caravan.rhyme.api.spi"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../io/wcm/caravan/rhyme/api/spi/HttpClientSupport.html" title="interface in io.wcm.caravan.rhyme.api.spi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?io/wcm/caravan/rhyme/api/spi/HttpClientCallback.html" target="_top">Frames</a></li>
<li><a href="HttpClientCallback.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014&#x2013;2022 <a href="https://caravan.wcm.io">wcm.io Caravan</a>. All rights reserved.</small></p>
</body>
</html>